{"version":3,"sources":["index.tsx"],"names":["React","BusinessController","BusinessSingleCard","useUtils","useOrder","useLanguage","OIcon","OText","StyleSheet","View","colors","convertHoursToMinutes","Card","BusinessHero","BusinessContent","BusinessCategory","BusinessInfo","Metadata","BusinessState","BusinessLogo","Reviews","IconAntDesign","FontAwesomeIcon","MaterialComIcon","MaterialIcon","BusinessControllerUI","props","business","handleClick","parsePrice","parseDistance","parseNumber","orderState","t","types","getBusinessType","Object","keys","length","_types","forEach","type","push","toUpperCase","join","uri","header","styles","headerStyle","open","featured","closed","white","logo","businessLogo","businessState","name","reviews","total","primary","starIcon","separator","bullet","metadata","options","delivery_time","pickup_time","distance","marginBottom","delivery_price","create","borderTopLeftRadius","borderTopRightRadius","width","height","marginLeft","borderRadius","justifyContent","alignItems","backgroundColor","lightGray","opacity","textAlign","marginRight","marginTop","marginHorizontal","position","padding","backgroundDark","left","top","flexDirection","BusinessControllerProps","UIComponent"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport {\r\n  BusinessController as BusinessSingleCard,\r\n  useUtils,\r\n  useOrder,\r\n  useLanguage,\r\n} from 'ordering-components/native';\r\nimport { OIcon, OText } from '../shared';\r\nimport { StyleSheet, View } from 'react-native';\r\nimport { colors } from '../../theme';\r\nimport { BusinessControllerParams } from '../../types';\r\nimport { convertHoursToMinutes } from '../../utils';\r\nimport {\r\n  Card,\r\n  BusinessHero,\r\n  BusinessContent,\r\n  BusinessCategory,\r\n  BusinessInfo,\r\n  Metadata,\r\n  BusinessState,\r\n  BusinessLogo,\r\n  Reviews,\r\n} from './styles';\r\nimport IconAntDesign from 'react-native-vector-icons/AntDesign';\r\nimport FontAwesomeIcon from 'react-native-vector-icons/FontAwesome5';\r\nimport MaterialComIcon from 'react-native-vector-icons/MaterialCommunityIcons';\r\nimport MaterialIcon from 'react-native-vector-icons/MaterialIcons';\r\n\r\nexport const BusinessControllerUI = (props: BusinessControllerParams) => {\r\n  const { business, handleClick } = props;\r\n  const [{ parsePrice, parseDistance, parseNumber }] = useUtils();\r\n  const [orderState] = useOrder();\r\n  const [, t] = useLanguage();\r\n\r\n  const types = ['food', 'laundry', 'alcohol', 'groceries'];\r\n\r\n  const getBusinessType = () => {\r\n    if (Object.keys(business).length <= 0) return t('GENERAL', 'General');\r\n    const _types: any = [];\r\n    types.forEach((type) => {\r\n      if (business[type]) {\r\n        _types.push(t(type.toUpperCase(), type));\r\n      }\r\n    });\r\n    return _types.join(', ');\r\n  };\r\n\r\n  return (\r\n    <Card onPress={() => handleClick(business)}>\r\n      <BusinessHero\r\n        source={{ uri: business?.header }}\r\n        imageStyle={styles.headerStyle}\r\n        isClosed={business?.open}\r\n      >\r\n        {business?.featured && (\r\n          <View style={styles.featured}>\r\n            <FontAwesomeIcon name='crown' size={26} color='gold' />\r\n          </View>\r\n        )}\r\n        {!business?.open && (\r\n          <View style={styles.closed}>\r\n            <OText size={32} color={colors.white}>{t('CLOSED', 'CLOSED')}</OText>\r\n          </View>\r\n        )}\r\n        <BusinessLogo>\r\n          <OIcon url={business?.logo} style={styles.businessLogo} />\r\n        </BusinessLogo>\r\n        <BusinessState>\r\n          {!business?.open && (\r\n            <OText color={colors.white} size={24} style={styles.businessState}>\r\n              {t('PREORDER', 'PREORDER')}\r\n            </OText>\r\n          )}\r\n        </BusinessState>\r\n      </BusinessHero>\r\n      <BusinessContent>\r\n        <BusinessInfo>\r\n          <OText size={20}>{business?.name}</OText>\r\n          {business?.reviews?.total > 0 && (\r\n            <Reviews>\r\n              <IconAntDesign\r\n                name=\"star\"\r\n                color={colors.primary}\r\n                size={16}\r\n                style={styles.starIcon}\r\n              />\r\n              <OText>{parseNumber(business?.reviews?.total, { separator: '.' })}</OText>\r\n            </Reviews>\r\n          )}\r\n        </BusinessInfo>\r\n        <BusinessCategory>\r\n          <OText>{getBusinessType()}</OText>\r\n        </BusinessCategory>\r\n        <Metadata>\r\n          <View style={styles.bullet}>\r\n            <MaterialComIcon name='alarm' size={16} />\r\n            <OText style={styles.metadata}>\r\n              {convertHoursToMinutes(\r\n                orderState?.options?.type === 1\r\n                  ? business?.delivery_time\r\n                  : business?.pickup_time,\r\n              )}\r\n            </OText>\r\n          </View>\r\n          <View style={styles.bullet}>\r\n            <MaterialIcon name='location-on' size={16} />\r\n            <OText style={styles.metadata}>\r\n              {parseDistance(business?.distance)}\r\n            </OText>\r\n          </View>\r\n          <View style={styles.bullet}>\r\n            <MaterialComIcon name='truck-delivery' size={16} style={{ marginBottom: -2 }} />\r\n            <OText style={styles.metadata}>\r\n              {parsePrice(business?.delivery_price)}\r\n            </OText>\r\n          </View>\r\n        </Metadata>\r\n      </BusinessContent>\r\n    </Card>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  headerStyle: {\r\n    borderTopLeftRadius: 25,\r\n    borderTopRightRadius: 25,\r\n  },\r\n  businessLogo: {\r\n    width: 75,\r\n    height: 75,\r\n    marginLeft: 20,\r\n    marginBottom: 20,\r\n    borderRadius: 25,\r\n    justifyContent: 'flex-start',\r\n    alignItems: 'flex-start',\r\n  },\r\n  businessState: {\r\n    backgroundColor: colors.lightGray,\r\n    opacity: 0.8,\r\n    width: 150,\r\n    textAlign: 'center',\r\n    borderRadius: 25,\r\n  },\r\n  metadata: {\r\n    marginRight: 20,\r\n    marginLeft: 5,\r\n    marginBottom: -5,\r\n  },\r\n  starIcon: {\r\n    marginTop: 1.5,\r\n    marginHorizontal: 5,\r\n  },\r\n  featured: {\r\n    position: 'absolute',\r\n    padding: 8,\r\n    backgroundColor: colors.backgroundDark,\r\n    opacity: 0.8,\r\n    borderRadius: 10,\r\n    left: 20,\r\n    top: 10\r\n  },\r\n  closed: {\r\n    position: 'absolute',\r\n    width: '100%',\r\n    height: '100%',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: colors.backgroundDark,\r\n    opacity: 0.6,\r\n    borderTopRightRadius: 25,\r\n    borderTopLeftRadius: 25,\r\n  },\r\n  bullet: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center'\r\n  }\r\n});\r\n\r\nexport const BusinessController = (props: BusinessControllerParams) => {\r\n  const BusinessControllerProps = {\r\n    ...props,\r\n    UIComponent: BusinessControllerUI,\r\n  };\r\n\r\n  return <BusinessSingleCard {...BusinessControllerProps} />;\r\n};\r\n"]}