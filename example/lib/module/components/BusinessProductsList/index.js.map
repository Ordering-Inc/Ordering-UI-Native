{"version":3,"sources":["index.tsx"],"names":["React","ProductsList","useLanguage","SingleProductCard","NotFoundSource","OText","ProductsContainer","ErrorMessage","WrapperNotFound","Fade","Placeholder","PlaceholderLine","View","BusinessProductsListUI","props","errors","businessId","category","categories","categoryState","onProductClick","featured","searchValue","isBusinessLoading","handleSearchRedirect","handleClearSearch","errorQuantityProducts","t","id","products","map","product","inventoried","quantity","find","filter","i","_categories","category_id","length","name","loading","Array","pagination","nextPageItems","keys","item","padding","flexDirection","marginRight","marginBottom","paddingVertical","e","BusinessProductsList","businessProductsListProps","UIComponent"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { ProductsList, useLanguage } from 'ordering-components/native'\r\nimport { SingleProductCard } from '../SingleProductCard'\r\nimport { NotFoundSource } from '../NotFoundSource'\r\nimport { BusinessProductsListParams } from '../../types'\r\nimport { OText } from '../shared'\r\nimport {\r\n  ProductsContainer,\r\n  ErrorMessage,\r\n  WrapperNotFound\r\n} from './styles'\r\nimport { Fade, Placeholder, PlaceholderLine } from 'rn-placeholder'\r\nimport { View } from 'react-native'\r\n\r\nconst BusinessProductsListUI = (props: BusinessProductsListParams) => {\r\n  const {\r\n    errors,\r\n    businessId,\r\n    category,\r\n    categories,\r\n    categoryState,\r\n    onProductClick,\r\n    featured,\r\n    searchValue,\r\n    isBusinessLoading,\r\n    handleSearchRedirect,\r\n    handleClearSearch,\r\n    errorQuantityProducts\r\n  } = props\r\n\r\n  const [, t] = useLanguage()\r\n\r\n  return (\r\n    <ProductsContainer>\r\n      {category.id && (\r\n        categoryState.products?.map((product: any) => (\r\n          <SingleProductCard\r\n            key={product.id}\r\n            isSoldOut={(product.inventoried && !product.quantity)}\r\n            product={product}\r\n            businessId={businessId}\r\n            onProductClick={() => onProductClick(product)}\r\n          />\r\n        ))\r\n      )}\r\n\r\n      {\r\n        !category.id && (\r\n          featured && categoryState?.products?.find((product: any) => product.featured) && (\r\n            <>\r\n              <OText size={18} weight='bold' mBottom={10}>{t('FEATURED', 'Featured')}</OText>\r\n              <>\r\n                {categoryState.products?.map((product: any) => product.featured && (\r\n                  <SingleProductCard\r\n                    key={product.id}\r\n                    isSoldOut={(product.inventoried && !product.quantity)}\r\n                    product={product}\r\n                    businessId={businessId}\r\n                    onProductClick={onProductClick}\r\n                  />\r\n                ))}\r\n              </>\r\n            </>\r\n          )\r\n        )\r\n      }\r\n\r\n      {\r\n        !category.id && categories && categories.filter(category => category.id !== null).map((category, i, _categories) => {\r\n          const products = categoryState.products?.filter((product: any) => product.category_id === category.id) || []\r\n          return (\r\n            <React.Fragment key={category.id}>\r\n              {\r\n                products.length > 0 && (\r\n                  <>\r\n                    <OText size={18} weight='bold' mBottom={10}>{category.name}</OText>\r\n                    <>\r\n                      {\r\n                        products.map((product: any) => (\r\n                          <SingleProductCard\r\n                            key={product.id}\r\n                            isSoldOut={product.inventoried && !product.quantity}\r\n                            businessId={businessId}\r\n                            product={product}\r\n                            onProductClick={onProductClick}\r\n                          />\r\n                        ))\r\n                      }\r\n                    </>\r\n                  </>\r\n                )\r\n              }\r\n            </React.Fragment>\r\n          )\r\n        })\r\n      }\r\n\r\n      {\r\n        (categoryState.loading || isBusinessLoading) && (\r\n          <>\r\n            {[...Array(categoryState?.pagination?.nextPageItems).keys()].map((item, i) => (\r\n              <Placeholder key={i} style={{ padding: 5 }} Animation={Fade}>\r\n                <View style={{ flexDirection: 'row' }}>\r\n                  <PlaceholderLine width={24} height={70} style={{ marginRight: 10, marginBottom: 10 }} />\r\n                  <Placeholder style={{ paddingVertical: 10 }}>\r\n                      <PlaceholderLine width={60} style={{marginBottom: 25}}/>\r\n                      <PlaceholderLine width={20} />\r\n                  </Placeholder>\r\n                </View>\r\n              </Placeholder>\r\n            ))}\r\n          </>\r\n        )\r\n      }\r\n      {\r\n        !categoryState.loading && !isBusinessLoading && categoryState.products.length === 0 && !errors && !((searchValue && errorQuantityProducts) || (!searchValue && !errorQuantityProducts)) && (\r\n          <WrapperNotFound>\r\n            <NotFoundSource\r\n              content={!searchValue ? t('ERROR_NOT_FOUND_PRODUCTS_TIME', 'No products found at this time') : t('ERROR_NOT_FOUND_PRODUCTS', 'No products found, please change filters.')}\r\n              btnTitle={!searchValue ? t('SEARCH_REDIRECT', 'Go to Businesses') : t('CLEAR_FILTERS', 'Clear filters')}\r\n              onClickButton={() => !searchValue ? handleSearchRedirect && handleSearchRedirect() : handleClearSearch && handleClearSearch('')}\r\n            />\r\n          </WrapperNotFound>\r\n        )\r\n      }\r\n\r\n      {errors && errors.length > 0 && (\r\n        errors.map((e: any, i: number) => (\r\n          <ErrorMessage key={i}>\r\n            <OText space>ERROR:</OText>\r\n            <OText>{e}</OText>\r\n          </ErrorMessage>\r\n        ))\r\n      )}\r\n    </ProductsContainer>\r\n  )\r\n}\r\n\r\nexport const BusinessProductsList = (props: BusinessProductsListParams) => {\r\n  const businessProductsListProps = {\r\n    ...props,\r\n    UIComponent: BusinessProductsListUI\r\n  }\r\n\r\n  return (\r\n    <ProductsList {...businessProductsListProps} />\r\n  )\r\n}\r\n"]}