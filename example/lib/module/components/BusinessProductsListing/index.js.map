{"version":3,"sources":["index.tsx"],"names":["React","useState","IconAntDesign","MaterialIcon","BusinessAndProductList","useLanguage","useOrder","useSession","useUtils","OModal","OText","BusinessBasicInformation","SearchBar","BusinessProductsCategories","BusinessProductsList","View","TouchableOpacity","StyleSheet","WrapHeader","TopHeader","AddressInput","WrapSearchBar","WrapContent","BusinessProductsListingContainer","colors","FloatingButton","ProductForm","UpsellingProducts","BusinessProductsListingUI","props","navigation","errors","businessState","categoryState","handleChangeSearch","categorySelected","searchValue","handleChangeCategory","handleSearchRedirect","featuredProducts","errorQuantityProducts","t","auth","orderState","parsePrice","business","loading","error","openBusinessInformation","setOpenBusinessInformation","isOpenSearchBar","setIsOpenSearchBar","curProduct","setCurProduct","openUpselling","setOpenUpselling","canOpenUpselling","setCanOpenUpselling","currentCart","Object","values","carts","find","cart","slug","onRedirect","route","params","navigate","onProductClick","product","handleCancel","handleCloseProductModal","handlerProductAction","handleUpsellingPage","cartUuid","uuid","styles","mainContainer","products","length","id","headerItem","flex","goBack","white","backgroundColor","borderRadius","marginRight","isGoBack","isFromProductsList","address","options","width","lazy_load_products_recommended","categories","name","sort","a","b","rank","subtotal","minimum","total","business_id","create","BackIcon","paddingRight","flexDirection","alignItems","marginVertical","marginHorizontal","BusinessProductsListing","businessProductslistingProps","UIComponent"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport IconAntDesign from 'react-native-vector-icons/AntDesign'\r\nimport MaterialIcon from 'react-native-vector-icons/MaterialIcons'\r\n\r\nimport {\r\n  BusinessAndProductList,\r\n  useLanguage,\r\n  useOrder,\r\n  useSession,\r\n  useUtils\r\n} from 'ordering-components/native'\r\nimport { OModal, OText } from '../shared'\r\nimport { BusinessBasicInformation } from '../BusinessBasicInformation'\r\nimport { SearchBar } from '../SearchBar'\r\nimport { BusinessProductsCategories } from '../BusinessProductsCategories'\r\nimport { BusinessProductsList } from '../BusinessProductsList'\r\nimport { BusinessProductsListingParams } from '../../types'\r\nimport { View, TouchableOpacity, StyleSheet, ScrollView } from 'react-native'\r\nimport {\r\n  WrapHeader,\r\n  TopHeader,\r\n  AddressInput,\r\n  WrapSearchBar,\r\n  WrapContent,\r\n  BusinessProductsListingContainer\r\n} from './styles'\r\nimport { colors } from '../../theme'\r\nimport { FloatingButton } from '../FloatingButton'\r\nimport { ProductForm } from '../ProductForm'\r\nimport { UpsellingProducts } from '../UpsellingProducts'\r\nconst BusinessProductsListingUI = (props: BusinessProductsListingParams) => {\r\n  const {\r\n    navigation,\r\n    errors,\r\n    businessState,\r\n    categoryState,\r\n    handleChangeSearch,\r\n    categorySelected,\r\n    searchValue,\r\n    handleChangeCategory,\r\n    handleSearchRedirect,\r\n    featuredProducts,\r\n    errorQuantityProducts,\r\n  } = props\r\n\r\n  const [, t] = useLanguage()\r\n  const [{ auth }] = useSession()\r\n  const [orderState] = useOrder()\r\n  const [{ parsePrice }] = useUtils()\r\n\r\n  const { business, loading, error } = businessState\r\n  const [openBusinessInformation, setOpenBusinessInformation] = useState(false)\r\n  const [isOpenSearchBar, setIsOpenSearchBar] = useState(false)\r\n  const [curProduct, setCurProduct] = useState(null)\r\n  const [openUpselling, setOpenUpselling] = useState(false)\r\n  const [canOpenUpselling, setCanOpenUpselling] = useState(false)\r\n\r\n  const currentCart: any = Object.values(orderState.carts).find((cart: any) => cart?.business?.slug === business?.slug) ?? {}\r\n\r\n  const onRedirect = (route: string, params?: any) => {\r\n    navigation.navigate(route, params)\r\n  }\r\n\r\n  const onProductClick = (product: any) => {\r\n    setCurProduct(product)\r\n  }\r\n\r\n  const handleCancel = () => {\r\n    setIsOpenSearchBar(false)\r\n    handleChangeSearch('')\r\n  }\r\n\r\n  const handleCloseProductModal = () => {\r\n    setCurProduct(null)\r\n  }\r\n\r\n  const handlerProductAction = () => {\r\n    handleCloseProductModal()\r\n  }\r\n\r\n  const handleUpsellingPage = () => {\r\n    onRedirect('CheckoutNavigator', { cartUuid: currentCart?.uuid })\r\n    setOpenUpselling(false)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <BusinessProductsListingContainer style={styles.mainContainer} isActiveFloatingButtom={currentCart?.products?.length > 0 && categoryState.products.length !== 0}>\r\n        {loading && !error && (\r\n          <>\r\n            <BusinessBasicInformation\r\n              businessState={{ business: {}, loading: true }}\r\n              openBusinessInformation={openBusinessInformation}\r\n            />\r\n            <BusinessProductsCategories\r\n              categories={[]}\r\n              categorySelected={categorySelected}\r\n              onClickCategory={handleChangeCategory}\r\n              featured={featuredProducts}\r\n              openBusinessInformation={openBusinessInformation}\r\n              loading={loading}\r\n            />\r\n            <WrapContent>\r\n              <BusinessProductsList\r\n                categories={[]}\r\n                category={categorySelected}\r\n                categoryState={categoryState}\r\n                isBusinessLoading={loading}\r\n                errorQuantityProducts={errorQuantityProducts}\r\n              />\r\n            </WrapContent>\r\n          </>\r\n        )}\r\n        {\r\n          !loading && business?.id && (\r\n            <>\r\n              <WrapHeader>\r\n                <TopHeader>\r\n                  {!isOpenSearchBar && (\r\n                    <>\r\n                      <View style={{ ...styles.headerItem, flex: 1 }}>\r\n                        <TouchableOpacity\r\n                          onPress={() => navigation.goBack()}\r\n                        >\r\n                          <IconAntDesign\r\n                            name='arrowleft'\r\n                            color={colors.white}\r\n                            style={{ backgroundColor: 'rgba(0,0,0,0.3)', borderRadius: 50, marginRight: 20 }}\r\n                            size={25}\r\n                          />\r\n                        </TouchableOpacity>\r\n                        <AddressInput onPress={() => auth ? onRedirect('AddressList', { isGoBack: true, isFromProductsList: true }) : onRedirect('AddressForm', { address: orderState.options?.address })}>\r\n                          <OText color={colors.white} numberOfLines={1}>\r\n                            {orderState?.options?.address?.address}\r\n                          </OText>\r\n                        </AddressInput>\r\n                      </View>\r\n                      {!errorQuantityProducts && (\r\n                        <View style={{ ...styles.headerItem, width: 30 }}>\r\n                          <TouchableOpacity\r\n                            onPress={() => setIsOpenSearchBar(true)}\r\n                          >\r\n                            <MaterialIcon\r\n                              name='search'\r\n                              color={colors.white}\r\n                              size={25}\r\n                            />\r\n                          </TouchableOpacity>\r\n                        </View>\r\n                      )}\r\n                    </>\r\n                  )}\r\n                  {isOpenSearchBar && (\r\n                    <WrapSearchBar>\r\n                      <SearchBar\r\n                        onSearch={handleChangeSearch}\r\n                        onCancel={() => handleCancel()}\r\n                        isCancelButtonShow\r\n                        noBorderShow\r\n                        placeholder={t('SEARCH_PRODUCTS', 'Search Products')}\r\n                        lazyLoad={businessState?.business?.lazy_load_products_recommended}\r\n                      />\r\n                    </WrapSearchBar>\r\n                  )}\r\n                </TopHeader>\r\n                <BusinessBasicInformation\r\n                  businessState={businessState}\r\n                />\r\n              </WrapHeader>\r\n              {!(business?.categories?.length === 0) && (\r\n                <BusinessProductsCategories\r\n                  categories={[{ id: null, name: t('ALL', 'All') }, { id: 'featured', name: t('FEATURED', 'Featured') }, ...business?.categories.sort((a: any, b: any) => a.rank - b.rank)]}\r\n                  categorySelected={categorySelected}\r\n                  onClickCategory={handleChangeCategory}\r\n                  featured={featuredProducts}\r\n                  openBusinessInformation={openBusinessInformation}\r\n                />\r\n              )}\r\n              <WrapContent>\r\n                <BusinessProductsList\r\n                  categories={[\r\n                    { id: null, name: t('ALL', 'All') },\r\n                    { id: 'featured', name: t('FEATURED', 'Featured') },\r\n                    ...business?.categories.sort((a: any, b: any) => a.rank - b.rank)\r\n                  ]}\r\n                  category={categorySelected}\r\n                  categoryState={categoryState}\r\n                  businessId={business.id}\r\n                  errors={errors}\r\n                  onProductClick={onProductClick}\r\n                  handleSearchRedirect={handleSearchRedirect}\r\n                  featured={featuredProducts}\r\n                  searchValue={searchValue}\r\n                  handleClearSearch={handleChangeSearch}\r\n                  errorQuantityProducts={errorQuantityProducts}\r\n                />\r\n              </WrapContent>\r\n            </>\r\n          )\r\n        }\r\n      </BusinessProductsListingContainer>\r\n      {!loading && auth && currentCart?.products?.length > 0 && categoryState.products.length !== 0 && (\r\n        <FloatingButton\r\n          btnText={\r\n            currentCart?.subtotal >= currentCart?.minimum\r\n              ? !openUpselling ? t('VIEW_ORDER', 'View Order') : t('LOADING', 'Loading')\r\n              : `${t('MINIMUN_SUBTOTAL_ORDER', 'Minimum subtotal order:')} ${parsePrice(currentCart?.minimum)}`\r\n          }\r\n          isSecondaryBtn={currentCart?.subtotal < currentCart?.minimum}\r\n          btnLeftValueShow={currentCart?.subtotal >= currentCart?.minimum && !openUpselling && currentCart?.products?.length > 0}\r\n          btnRightValueShow={currentCart?.subtotal >= currentCart?.minimum && !openUpselling && currentCart?.products?.length > 0}\r\n          btnLeftValue={currentCart?.products?.length}\r\n          btnRightValue={parsePrice(currentCart?.total)}\r\n          disabled={openUpselling || currentCart?.subtotal < currentCart?.minimum}\r\n          handleClick={() => setOpenUpselling(true)}\r\n        />\r\n      )}\r\n      <OModal open={!!curProduct} onClose={handleCloseProductModal} entireModal customClose>\r\n        <ProductForm\r\n          product={curProduct}\r\n          businessSlug={business.slug}\r\n          businessId={business.id}\r\n          onClose={handleCloseProductModal}\r\n          navigation={navigation}\r\n          onSave={handlerProductAction}\r\n        />\r\n      </OModal>\r\n      {openUpselling && (\r\n        <UpsellingProducts\r\n          businessId={currentCart?.business_id}\r\n          business={currentCart?.business}\r\n          cartProducts={currentCart?.products}\r\n          handleUpsellingPage={handleUpsellingPage}\r\n          openUpselling={openUpselling}\r\n          canOpenUpselling={canOpenUpselling}\r\n          setCanOpenUpselling={setCanOpenUpselling}\r\n        />\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  mainContainer: {\r\n    flex: 1,\r\n  },\r\n  BackIcon: {\r\n    paddingRight: 20,\r\n  },\r\n  headerItem: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    marginVertical: 15,\r\n    marginHorizontal: 20,\r\n  }\r\n})\r\n\r\nexport const BusinessProductsListing = (props: BusinessProductsListingParams) => {\r\n  const businessProductslistingProps = {\r\n    ...props,\r\n    UIComponent: BusinessProductsListingUI\r\n  }\r\n  return (\r\n    <BusinessAndProductList {...businessProductslistingProps} />\r\n  )\r\n}\r\n"]}