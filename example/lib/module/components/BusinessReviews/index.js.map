{"version":3,"sources":["index.tsx"],"names":["React","BusinessReviews","BusinessReviewController","useLanguage","IconAntDesign","Spinner","BusinessBasicInformation","View","StyleSheet","OText","colors","BusinessReviewsContainer","ScoreView","BusinessReviewContent","WrapCustomerReview","WrapCustomerReviewTotal","ScrollView","GrayBackground","Score","star","text","styles","reviewScoreStyle","primary","starIcon","BusinessReviewsUI","props","businessState","reviewsList","t","loading","error","wrapTotalScoresStyle","business","reviews","quality","delivery","service","package","map","review","id","total","comment","length","create","marginRight","flexDirection","alignItems","justifyContent","maxHeight","height","marginBottom","BusinessReviewProps","UIComponent"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { BusinessReviews as BusinessReviewController, useLanguage } from 'ordering-components/native'\r\nimport IconAntDesign from 'react-native-vector-icons/AntDesign'\r\nimport Spinner from 'react-native-loading-spinner-overlay'\r\nimport { BusinessBasicInformation } from '../BusinessBasicInformation'\r\nimport { View, StyleSheet } from 'react-native'\r\nimport { OText } from '../shared'\r\nimport { colors } from '../../theme'\r\nimport {\r\n  BusinessReviewsContainer,\r\n  ScoreView,\r\n  BusinessReviewContent,\r\n  WrapCustomerReview,\r\n  WrapCustomerReviewTotal\r\n} from './styles'\r\nimport { ScrollView } from 'react-native-gesture-handler'\r\nimport { GrayBackground } from '../BusinessInformation/styles'\r\nimport { BusinessReviewsParams } from '../../types'\r\n\r\nconst Score = ({ star, text }: any) => (\r\n  <ScoreView>\r\n    <View style={styles.reviewScoreStyle}>\r\n      <IconAntDesign\r\n        name=\"star\"\r\n        color={colors.primary}\r\n        size={16}\r\n        style={styles.starIcon}\r\n      />\r\n      <OText>{star}</OText>\r\n    </View>\r\n    <OText>{text}</OText>\r\n  </ScoreView>\r\n)\r\n\r\nconst BusinessReviewsUI = (props: BusinessReviewsParams) => {\r\n  const {\r\n    businessState,\r\n    reviewsList,\r\n  } = props\r\n  const [, t] = useLanguage()\r\n  return (\r\n    <BusinessReviewsContainer>\r\n      <BusinessBasicInformation\r\n        isBusinessInfoShow\r\n        businessState={businessState}\r\n      />\r\n      <Spinner visible={reviewsList.loading} />\r\n      <BusinessReviewContent>\r\n        {reviewsList.error ? (\r\n          <OText size={16}>{t('ERROR_UNKNOWN', 'An error has ocurred')}</OText>\r\n          ) : (\r\n          <>\r\n            <ScrollView\r\n              horizontal\r\n              showsHorizontalScrollIndicator={false}\r\n              style={styles.wrapTotalScoresStyle}\r\n            >\r\n              <Score star={businessState?.business?.reviews?.quality} text={t('REVIEW_QUALITY', 'Quality of products')} />\r\n              <Score star={businessState?.business?.reviews?.delivery} text={t('REVIEW_PUNCTUALITY', 'Punctuality')} />\r\n              <Score star={businessState?.business?.reviews?.service} text={t('REVIEW_SERVICE', 'Service')} />\r\n              <Score star={businessState?.business?.reviews?.package} text={t('REVIEW_PRODUCT_PACKAGING', 'Product Packaging')} />\r\n            </ScrollView>\r\n            <GrayBackground>\r\n              <OText weight='bold' size={16}>{t('CUSTOMERS_REVIEWS', 'Customers Reviews')}</OText>\r\n            </GrayBackground>\r\n            {reviewsList?.reviews.map((review: any) =>(\r\n              <WrapCustomerReview key={review.id}>\r\n                <WrapCustomerReviewTotal>\r\n                  <View style={styles.reviewScoreStyle}>\r\n                    <IconAntDesign\r\n                      name=\"star\"\r\n                      color={colors.primary}\r\n                      size={16}\r\n                      style={styles.starIcon}\r\n                    />\r\n                    <OText>{review.total}</OText>\r\n                  </View>\r\n                  <OText mLeft={20}>{review.comment}</OText>\r\n                </WrapCustomerReviewTotal>\r\n                <ScrollView horizontal showsHorizontalScrollIndicator={false}>\r\n                  <Score star={review.quality} text={t('REVIEW_QUALITY', 'Quality of products')} />\r\n                  <Score star={review.delivery} text={t('REVIEW_PUNCTUALITY', 'Punctuality')} />\r\n                  <Score star={review.service} text={t('REVIEW_SERVICE', 'Service')} />\r\n                  <Score star={review.package} text={t('REVIEW_PRODUCT_PACKAGING', 'Product Packaging')} />\r\n                </ScrollView>\r\n              </WrapCustomerReview>\r\n            ))}\r\n          </>\r\n        )}\r\n        {!reviewsList.loading && reviewsList?.reviews.length === 0 && (\r\n          <OText>{t('REVIEWS_NOT_FOUND', 'Reviews Not Found')}</OText>\r\n        )}\r\n      </BusinessReviewContent>\r\n    </BusinessReviewsContainer>\r\n  )\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  starIcon: {\r\n    marginRight: 5,\r\n  },\r\n  reviewScoreStyle: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'center'\r\n  },\r\n  wrapTotalScoresStyle: {\r\n    maxHeight: 80,\r\n    height: 80,\r\n    marginBottom: 20\r\n  }\r\n})\r\n\r\nexport const BusinessReviews = (props: any) => {\r\n  const BusinessReviewProps = {\r\n    ...props,\r\n    UIComponent: BusinessReviewsUI\r\n  }\r\n  return <BusinessReviewController {...BusinessReviewProps} />\r\n}\r\n"]}