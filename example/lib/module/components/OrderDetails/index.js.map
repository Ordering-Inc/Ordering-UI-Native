{"version":3,"sources":["index.tsx"],"names":["React","useState","useEffect","View","StyleSheet","BackHandler","Spinner","LinearGradient","MaterialCommunityIcon","Messages","useLanguage","OrderDetails","OrderDetailsConTableoller","useUtils","useSession","OrderDetailsContainer","Header","OrderContent","OrderBusiness","Logo","OrderData","OrderInfo","OrderStatus","StaturBar","StatusImage","OrderCustomer","CustomerPhoto","InfoBlock","HeaderInfo","Customer","OrderProducts","Table","OrderBill","Total","NavBack","Icons","OrderDriver","Map","OIcon","OModal","OText","colors","ProductItemAccordion","TouchableOpacity","USER_TYPE","GoogleMap","appLogo","require","orderStatus0","orderStatus1","orderStatus2","orderStatus3","orderStatus4","orderStatus5","orderStatus6","orderStatus7","orderStatus8","orderStatus9","orderStatus10","orderStatus11","orderStatus12","storeDummy","OrderDetailsUI","props","navigation","messages","setMessages","readMessages","messagesReadList","isFromCheckout","driverLocation","t","parsePrice","parseNumber","parseDate","user","openMessages","setOpenMessages","business","driver","unreadAlert","setUnreadAlert","order","businessData","getOrderStatus","s","status","parseInt","orderStatus","key","value","slug","percentage","image","objectStatus","find","o","handleOpenMessages","data","unread_count","unreadMessages","length","unreadLength","unreadedMessages","slice","some","message","can_see","includes","handleCloseModal","handleArrowBack","goBack","navigate","addEventListener","removeEventListener","locations","location","title","icon","photo","name","logo","customer","Object","keys","white","marginBottom","styles","rowDirection","justifyContent","summary","total","display","flexDirection","alignItems","textBold","backgroundDark","store","backgroundColor","id","textSecondary","delivery_datetime_utc","delivery_datetime","utc","x","y","primary","disabled","statusBar","lastname","address","products","map","product","i","subtotal","tax_type","tax","totalTax","delivery_price","deliveryFee","driver_tip","totalDriverTip","service_fee","serviceFee","discount","offer_type","offer_rate","BUSINESS","DRIVER","create","height","width","borderRadius","fontWeight","orderDetailsProps","UIComponent"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { View, StyleSheet, BackHandler } from 'react-native'\r\nimport Spinner from 'react-native-loading-spinner-overlay'\r\nimport LinearGradient from 'react-native-linear-gradient'\r\nimport MaterialCommunityIcon from 'react-native-vector-icons/MaterialCommunityIcons'\r\nimport { Messages } from '../Messages'\r\nimport {\r\n  useLanguage,\r\n  OrderDetails as OrderDetailsConTableoller,\r\n  useUtils,\r\n  useConfig,\r\n  useSession\r\n} from 'ordering-components/native'\r\nimport {\r\n  OrderDetailsContainer,\r\n  Header,\r\n  OrderContent,\r\n  OrderBusiness,\r\n  Logo,\r\n  OrderData,\r\n  OrderInfo,\r\n  OrderStatus,\r\n  StaturBar,\r\n  StatusImage,\r\n  OrderCustomer,\r\n  CustomerPhoto,\r\n  InfoBlock,\r\n  HeaderInfo,\r\n  Customer,\r\n  OrderProducts,\r\n  Table,\r\n  OrderBill,\r\n  Total,\r\n  NavBack,\r\n  Icons,\r\n  OrderDriver,\r\n  Map\r\n} from './styles'\r\nimport { OIcon, OModal, OText } from '../shared'\r\nimport { colors } from '../../theme'\r\nimport { ProductItemAccordion } from '../ProductItemAccordion'\r\nimport { TouchableOpacity } from 'react-native-gesture-handler'\r\nimport { OrderDetailsParams } from '../../types'\r\nimport { USER_TYPE } from '../../config/constants'\r\nimport { GoogleMap } from '../GoogleMap'\r\n\r\nconst appLogo = require('../../assets/images/Logo.png')\r\n\r\nconst orderStatus0 = require('../../assets/images/status-0.png')\r\nconst orderStatus1 = require('../../assets/images/status-1.png')\r\nconst orderStatus2 = require('../../assets/images/status-2.png')\r\nconst orderStatus3 = require('../../assets/images/status-3.png')\r\nconst orderStatus4 = require('../../assets/images/status-4.png')\r\nconst orderStatus5 = require('../../assets/images/status-5.png')\r\nconst orderStatus6 = require('../../assets/images/status-6.png')\r\nconst orderStatus7 = require('../../assets/images/status-7.png')\r\nconst orderStatus8 = require('../../assets/images/status-8.png')\r\nconst orderStatus9 = require('../../assets/images/status-9.png')\r\nconst orderStatus10 = require('../../assets/images/status-10.png')\r\nconst orderStatus11 = require('../../assets/images/status-11.png')\r\nconst orderStatus12 = require('../../assets/images/status-12.png')\r\nconst storeDummy = require('../../assets/images/store.png')\r\n\r\n\r\nexport const OrderDetailsUI = (props: OrderDetailsParams) => {\r\n\r\n  const {\r\n    navigation,\r\n    messages,\r\n    setMessages,\r\n    readMessages,\r\n    messagesReadList,\r\n    isFromCheckout,\r\n    driverLocation\r\n  } = props\r\n\r\n  const [, t] = useLanguage()\r\n  const [{ parsePrice, parseNumber, parseDate }] = useUtils()\r\n  const [{ user }] = useSession()\r\n\r\n  const [openMessages, setOpenMessages] = useState({ business: false, driver: false })\r\n  const [unreadAlert, setUnreadAlert] = useState({ business: false, driver: false })\r\n  const { order, businessData } = props.order\r\n\r\n\r\n  const getOrderStatus = (s: string) => {\r\n    const status = parseInt(s)\r\n    const orderStatus = [\r\n      { key: 0, value: t('PENDING', 'Pending'), slug: 'PENDING', percentage: 0.25, image: orderStatus0 },\r\n      { key: 1, value: t('COMPLETED', 'Completed'), slug: 'COMPLETED', percentage: 1, image: orderStatus1 },\r\n      { key: 2, value: t('REJECTED', 'Rejected'), slug: 'REJECTED', percentage: 0, image: orderStatus2 },\r\n      { key: 3, value: t('DRIVER_IN_BUSINESS', 'Driver in business'), slug: 'DRIVER_IN_BUSINESS', percentage: 0.60, image: orderStatus3 },\r\n      { key: 4, value: t('PREPARATION_COMPLETED', 'Preparation Completed'), slug: 'PREPARATION_COMPLETED', percentage: 0.70, image: orderStatus4 },\r\n      { key: 5, value: t('REJECTED_BY_BUSINESS', 'Rejected by business'), slug: 'REJECTED_BY_BUSINESS', percentage: 0, image: orderStatus5 },\r\n      { key: 6, value: t('REJECTED_BY_DRIVER', 'Rejected by Driver'), slug: 'REJECTED_BY_DRIVER', percentage: 0, image: orderStatus6 },\r\n      { key: 7, value: t('ACCEPTED_BY_BUSINESS', 'Accepted by business'), slug: 'ACCEPTED_BY_BUSINESS', percentage: 0.35, image: orderStatus7 },\r\n      { key: 8, value: t('ACCEPTED_BY_DRIVER', 'Accepted by driver'), slug: 'ACCEPTED_BY_DRIVER', percentage: 0.45, image: orderStatus8 },\r\n      { key: 9, value: t('PICK_UP_COMPLETED_BY_DRIVER', 'Pick up completed by driver'), slug: 'PICK_UP_COMPLETED_BY_DRIVER', percentage: 0.80, image: orderStatus9 },\r\n      { key: 10, value: t('PICK_UP_FAILED_BY_DRIVER', 'Pick up Failed by driver'), slug: 'PICK_UP_FAILED_BY_DRIVER', percentage: 0, image: orderStatus10 },\r\n      { key: 11, value: t('DELIVERY_COMPLETED_BY_DRIVER', 'Delivery completed by driver'), slug: 'DELIVERY_COMPLETED_BY_DRIVER', percentage: 1, image: orderStatus11 },\r\n      { key: 12, value: t('DELIVERY_FAILED_BY_DRIVER', 'Delivery Failed by driver'), slug: 'DELIVERY_FAILED_BY_DRIVER', percentage: 0, image: orderStatus12 }\r\n    ]\r\n\r\n\r\n    const objectStatus = orderStatus.find((o) => o.key === status)\r\n\r\n    return objectStatus && objectStatus\r\n  }\r\n\r\n  const handleOpenMessages = (data: any) => {\r\n    setOpenMessages(data)\r\n    readMessages && readMessages()\r\n    if (order?.unread_count > 0) {\r\n      data.business\r\n        ? setUnreadAlert({ ...unreadAlert, business: false })\r\n        : setUnreadAlert({ ...unreadAlert, driver: false })\r\n    }\r\n  }\r\n\r\n  const unreadMessages = () => {\r\n    const length = messages?.messages.length\r\n    const unreadLength = order?.unread_count\r\n    const unreadedMessages = messages.messages.slice(length - unreadLength, length)\r\n    const business = unreadedMessages.some((message: any) => message?.can_see?.includes(2))\r\n    const driver = unreadedMessages.some((message: any) => message?.can_see?.includes(4))\r\n    setUnreadAlert({ business, driver })\r\n  }\r\n\r\n  const handleCloseModal = () => {\r\n    setOpenMessages({ business: false, driver: false })\r\n  }\r\n\r\n  const handleArrowBack: any = () => {\r\n    if (!isFromCheckout) {\r\n      navigation.goBack();\r\n      return\r\n    }\r\n    navigation.navigate('BottomTab');\r\n  }\r\n\r\n  useEffect(() => {\r\n    BackHandler.addEventListener('hardwareBackPress', handleArrowBack);\r\n    return () => {\r\n      BackHandler.removeEventListener('hardwareBackPress', handleArrowBack);\r\n    }\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (messagesReadList?.length) {\r\n      openMessages.business ? setUnreadAlert({ ...unreadAlert, business: false }) : setUnreadAlert({ ...unreadAlert, driver: false })\r\n    }\r\n  }, [messagesReadList])\r\n\r\n  const locations = [\r\n    { ...order?.driver?.location, title: t('DRIVER', 'Driver'), icon: order?.driver?.photo || 'https://res.cloudinary.com/demo/image/fetch/c_thumb,g_face,r_max/https://www.freeiconspng.com/thumbs/driver-icon/driver-icon-14.png' },\r\n    { ...order?.business?.location, title: order?.business?.name, icon: order?.business?.logo || storeDummy },\r\n    { ...order?.customer?.location, title: t('YOUR_LOCATION', 'Your Location'), icon: order?.customer?.photo || 'https://res.cloudinary.com/demo/image/upload/c_thumb,g_face,r_max/d_avatar.png/non_existing_id.png' }\r\n  ]\r\n\r\n  useEffect(() => {\r\n    if (driverLocation) {\r\n      locations[0] = driverLocation\r\n    }\r\n  }, [driverLocation])\r\n\r\n  return (\r\n    <OrderDetailsContainer>\r\n      <Spinner visible={!order || Object.keys(order).length === 0} />\r\n      {order && Object.keys(order).length > 0 && (\r\n        <>\r\n          <Header>\r\n            <NavBack>\r\n              <MaterialCommunityIcon\r\n                name='arrow-left'\r\n                onPress={() => handleArrowBack()}\r\n                size={24}\r\n                color={colors.white}\r\n                style={{ marginBottom: 10 }}\r\n              />\r\n            </NavBack>\r\n            <HeaderInfo>\r\n              <OIcon src={appLogo} height={50} width={150}></OIcon>\r\n              <OText size={24} color={colors.white}>{order?.customer?.name} {t('THANKS_ORDER', 'thanks for your order!')}</OText>\r\n              <OText color={colors.white}>{t('ORDER_MESSAGE_HEADER_TEXT', 'Once business accepts your order, we will send you an email, thank you!')}</OText>\r\n              <View style={{ ...styles.rowDirection, justifyContent: 'space-between' }}>\r\n                <OText size={20} color={colors.white} space>\r\n                  {t('TOTAL', 'Total')}\r\n                </OText>\r\n                <OText size={20} color={colors.white}>{parsePrice(order?.summary?.total || order?.total)}</OText>\r\n              </View>\r\n            </HeaderInfo>\r\n          </Header>\r\n          <OrderContent>\r\n            <OrderBusiness>\r\n              <View style={{ display: 'flex', flexDirection: 'row', alignItems: 'center' }}>\r\n                <Logo>\r\n                  <OIcon url={order?.business?.logo} style={styles.logo}></OIcon>\r\n                </Logo>\r\n                <OText size={20} style={styles.textBold}>{order?.business?.name}</OText>\r\n              </View>\r\n              <Icons>\r\n                <MaterialCommunityIcon\r\n                  name='store'\r\n                  size={28}\r\n                  color={colors.backgroundDark}\r\n                  onPress={() => props.navigation.navigate('Business', { store: businessData?.slug })}\r\n                />\r\n                <TouchableOpacity>\r\n                  <MaterialCommunityIcon\r\n                    name='message-text-outline'\r\n                    size={26}\r\n                    color={colors.backgroundDark}\r\n                    onPress={() => handleOpenMessages({ business: true, driver: false })}\r\n                  />\r\n                </TouchableOpacity>\r\n              </Icons>\r\n            </OrderBusiness>\r\n            <View style={{ ...styles.rowDirection, backgroundColor: colors.white }}>\r\n              <OrderInfo>\r\n                <OrderData>\r\n                  <OText size={20}>{t('ORDER', 'Order')} #{order?.id}</OText>\r\n                  <OText color={colors.textSecondary}>{t('DATE_TIME_FOR_ORDER', 'Date and time for your order')}</OText>\r\n                  <OText size={18}>\r\n                    {\r\n                      order?.delivery_datetime_utc\r\n                        ? parseDate(order?.delivery_datetime_utc)\r\n                        : parseDate(order?.delivery_datetime, { utc: false })\r\n                    }\r\n                  </OText>\r\n                  <StaturBar>\r\n                    <LinearGradient\r\n                      start={{ x: 0, y: 0 }}\r\n                      end={{ x: getOrderStatus(order?.status)?.percentage || 0, y: 0 }}\r\n                      locations={[1, 1]}\r\n                      colors={[colors.primary, colors.disabled]}\r\n                      style={styles.statusBar}\r\n                    />\r\n                  </StaturBar>\r\n                </OrderData>\r\n              </OrderInfo>\r\n              <OrderStatus>\r\n                <StatusImage>\r\n                  <OIcon src={getOrderStatus(order?.status)?.image} width={80} height={80} />\r\n                </StatusImage>\r\n                <OText color={colors.primary}>{getOrderStatus(order?.status)?.value}</OText>\r\n              </OrderStatus>\r\n            </View>\r\n            <OrderCustomer>\r\n              <OText size={18}>{t('CUSTOMER', 'Customer')}</OText>\r\n              <Customer>\r\n                <CustomerPhoto>\r\n                  <OIcon url={user?.photo} width={100} height={100} style={styles.logo} />\r\n                </CustomerPhoto>\r\n                <InfoBlock>\r\n                  <OText size={18}>{order?.customer?.name} {order?.customer?.lastname}</OText>\r\n                  <OText>{order?.customer?.address}</OText>\r\n                </InfoBlock>\r\n              </Customer>\r\n              {order?.driver && (\r\n                <>\r\n                  {order?.driver?.location && parseInt(order?.status) === 9 && (\r\n                    <Map>\r\n                      <GoogleMap\r\n                        location={order?.driver?.location}\r\n                        locations={locations}\r\n                        readOnly\r\n                      />\r\n                    </Map>\r\n                  )}\r\n                </>\r\n              )}\r\n            </OrderCustomer>\r\n            {order?.driver && (\r\n              <OrderDriver>\r\n                <OText size={18}>{t('YOUR_DRIVER', 'Your Driver')}</OText>\r\n                <Customer>\r\n                  <CustomerPhoto>\r\n                    <OIcon url={order?.driver?.photo} width={100} height={100} style={styles.logo} />\r\n                  </CustomerPhoto>\r\n                  <InfoBlock>\r\n                    <OText size={18}>{order?.driver?.name} {order?.driver?.lastname}</OText>\r\n                    <Icons>\r\n                      <TouchableOpacity>\r\n                        <MaterialCommunityIcon\r\n                          name='message-text-outline'\r\n                          size={24}\r\n                          color={colors.backgroundDark}\r\n                          onPress={() => handleOpenMessages({ driver: true, business: false })}\r\n                        />\r\n                      </TouchableOpacity>\r\n                    </Icons>\r\n                  </InfoBlock>\r\n\r\n                </Customer>\r\n              </OrderDriver>\r\n            )}\r\n            <OrderProducts>\r\n              <OText size={18}>{t('YOUR_ORDER', 'Your Order')}</OText>\r\n              {order?.products?.length && order?.products.map((product: any, i: number) => (\r\n                <ProductItemAccordion\r\n                  key={product?.id || i}\r\n                  product={product}\r\n                />\r\n              ))}\r\n            </OrderProducts>\r\n            <OrderBill>\r\n              <Table>\r\n                <OText>{t('SUBTOTAL', 'Subtotal')}</OText>\r\n                <OText>{parsePrice(order?.summary?.subtotal || order?.subtotal)}</OText>\r\n              </Table>\r\n              <Table>\r\n                <OText>\r\n                  {order?.tax_type === 1\r\n                    ? t('TAX_INCLUDED', 'Tax (included)')\r\n                    : t('TAX', 'Tax')}\r\n                  {`(${parseNumber(order?.tax)}%)`}\r\n                </OText>\r\n                <OText>{parsePrice(order?.summary?.tax || order?.totalTax)}</OText>\r\n              </Table>\r\n              {(order?.summary?.delivery_price > 0 || order?.deliveryFee > 0) && (\r\n                <Table>\r\n                  <OText>{t('DELIVERY_FEE', 'Delivery Fee')}</OText>\r\n                  <OText>{parsePrice(order?.summary?.delivery_price || order?.deliveryFee)}</OText>\r\n                </Table>\r\n              )}\r\n              <Table>\r\n                <OText>\r\n                  {t('DRIVER_TIP', 'Driver tip')}\r\n                  {(order?.summary?.driver_tip > 0 || order?.driver_tip > 0) && (\r\n                    `(${parseNumber(order?.driver_tip)}%)`\r\n                  )}\r\n                </OText>\r\n                <OText>{parsePrice(order?.summary?.driver_tip || order?.totalDriverTip)}</OText>\r\n              </Table>\r\n              <Table>\r\n                <OText>\r\n                  {t('SERVICE_FEE', 'Service Fee')}\r\n                  {`(${parseNumber(order?.service_fee)}%)`}\r\n                </OText>\r\n                <OText>{parsePrice(order?.summary?.service_fee || order?.serviceFee || 0)}</OText>\r\n              </Table>\r\n              {(order?.summary?.discount > 0 || order?.discount > 0) && (\r\n                <Table>\r\n                  {order?.offer_type === 1 ? (\r\n                    <OText>\r\n                      {t('DISCOUNT', 'Discount')}\r\n                      <OText>{`(${parseNumber(order?.offer_rate)}%)`}</OText>\r\n                    </OText>\r\n                  ) : (\r\n                    <OText>{t('DISCOUNT', 'Discount')}</OText>\r\n                  )}\r\n                  <OText>- {parsePrice(order?.summary?.discount || order?.discount)}</OText>\r\n                </Table>\r\n              )}\r\n              <Total>\r\n                <Table>\r\n                  <OText style={styles.textBold}>{t('TOTAL', 'Total')}</OText>\r\n                  <OText style={styles.textBold} color={colors.primary}>{parsePrice(order?.summary?.total || order?.total)}</OText>\r\n                </Table>\r\n              </Total>\r\n            </OrderBill>\r\n          </OrderContent>\r\n        </>\r\n      )}\r\n      <OModal open={openMessages.business || openMessages.driver} entireModal onClose={() => handleCloseModal()}>\r\n        <Messages\r\n          type={openMessages.business ? USER_TYPE.BUSINESS : USER_TYPE.DRIVER}\r\n          orderId={order?.id}\r\n          messages={messages}\r\n          order={order}\r\n          setMessages={setMessages}\r\n        />\r\n      </OModal>\r\n\r\n    </OrderDetailsContainer>\r\n  )\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  rowDirection: {\r\n    flexDirection: 'row'\r\n  },\r\n  statusBar: {\r\n    height: 10,\r\n  },\r\n  logo: {\r\n    width: 75,\r\n    height: 75,\r\n    borderRadius: 10\r\n  },\r\n  textBold: {\r\n    fontWeight: 'bold'\r\n  }\r\n})\r\n\r\n\r\nexport const OrderDetails = (props: OrderDetailsParams) => {\r\n  const orderDetailsProps = {\r\n    ...props,\r\n    UIComponent: OrderDetailsUI\r\n  }\r\n\r\n  return (\r\n    <OrderDetailsConTableoller {...orderDetailsProps} />\r\n  )\r\n}\r\n"]}