{"version":3,"sources":["index.tsx"],"names":["React","ProductForm","ProductOptions","useSession","useLanguage","useOrder","useUtils","ProductIngredient","ProductOption","IconAntDesign","MaterialCommunityIcon","View","TouchableOpacity","StyleSheet","Dimensions","ProductHeader","WrapHeader","TopHeader","WrapContent","ProductTitle","ProductDescription","ProductEditions","SectionTitle","WrapperIngredients","WrapperSubOption","ProductComment","ProductActions","colors","OButton","OInput","OText","ScrollView","ProductOptionSubOption","Spinner","NotFoundSource","windowHeight","get","height","ProductOptionsUI","props","navigation","editMode","isSoldOut","productCart","increment","decrement","showOption","maxProductQuantity","errors","handleSave","handleChangeIngredientState","handleChangeSuboptionState","handleChangeCommentState","productObject","onClose","parsePrice","t","orderState","auth","product","loading","error","isError","id","bgColor","white","handleSaveProduct","isErrors","Object","values","length","handleRedirectLogin","navigate","saveErrors","keys","styles","mainContainer","headerItem","backgroundColor","borderRadius","uri","images","flex","name","primary","price","description","sku","ingredients","optionContainer","map","ingredient","extras","extra","options","option","currentState","suboptions","suboption","balance","comment","val","target","value","quantityControl","quantity","backgroundGray","backgroundDark","width","address_id","total","color","opacity","borderColor","message","create","flexDirection","alignItems","marginVertical","marginHorizontal","zIndex","marginBottom","borderWidth","borderBottomLeftRadius","borderBottomRightRadius","justifyContent","marginRight","productOptionsProps","UIComponent"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport {\r\n  ProductForm as ProductOptions,\r\n  useSession,\r\n  useLanguage,\r\n  useOrder,\r\n  useUtils\r\n} from 'ordering-components/native'\r\nimport { ProductIngredient } from '../ProductIngredient'\r\nimport { ProductOption } from '../ProductOption'\r\n\r\nimport IconAntDesign from 'react-native-vector-icons/AntDesign'\r\nimport MaterialCommunityIcon from 'react-native-vector-icons/MaterialCommunityIcons'\r\nimport { View, TouchableOpacity, StyleSheet, Dimensions } from 'react-native'\r\n\r\nimport {\r\n  ProductHeader,\r\n  WrapHeader,\r\n  TopHeader,\r\n  WrapContent,\r\n  ProductTitle,\r\n  ProductDescription,\r\n  ProductEditions,\r\n  SectionTitle,\r\n  WrapperIngredients,\r\n  WrapperSubOption,\r\n  ProductComment,\r\n  ProductActions\r\n} from './styles'\r\nimport { colors } from '../../theme'\r\nimport { OButton, OInput, OText } from '../shared'\r\nimport { ScrollView } from 'react-native-gesture-handler'\r\nimport { ProductOptionSubOption } from '../ProductOptionSubOption'\r\nimport Spinner from 'react-native-loading-spinner-overlay'\r\nimport { NotFoundSource } from '../NotFoundSource'\r\n\r\nconst windowHeight = Dimensions.get('window').height;\r\nexport const ProductOptionsUI = (props: any) => {\r\n  const {\r\n    navigation,\r\n    editMode,\r\n    isSoldOut,\r\n    productCart,\r\n    increment,\r\n    decrement,\r\n    showOption,\r\n    maxProductQuantity,\r\n    errors,\r\n    handleSave,\r\n    handleChangeIngredientState,\r\n    handleChangeSuboptionState,\r\n    handleChangeCommentState,\r\n    productObject,\r\n    onClose\r\n  } = props\r\n\r\n  const [{ parsePrice }] = useUtils()\r\n  const [, t] = useLanguage()\r\n  const [orderState] = useOrder()\r\n  const [{ auth }] = useSession()\r\n  const { product, loading, error } = productObject\r\n\r\n  const isError = (id: number) => {\r\n    let bgColor = colors.white\r\n    if (errors[`id:${id}`]) {\r\n      bgColor = 'rgba(255, 0, 0, 0.05)'\r\n    }\r\n    if (isSoldOut || maxProductQuantity <= 0) {\r\n      bgColor = 'hsl(0, 0%, 72%)'\r\n    }\r\n    return bgColor\r\n  }\r\n\r\n  const handleSaveProduct = () => {\r\n    const isErrors = Object.values(errors).length > 0\r\n    if (!isErrors) {\r\n      handleSave && handleSave()\r\n      return\r\n    }\r\n  }\r\n\r\n  const handleRedirectLogin = () => {\r\n    onClose()\r\n    navigation.navigate('Login')\r\n  }\r\n\r\n  const saveErrors = orderState.loading || maxProductQuantity === 0 || Object.keys(errors).length > 0\r\n\r\n  return (\r\n    <ScrollView style={styles.mainContainer}>\r\n      <Spinner visible={loading} />\r\n      {!loading && !error && product && (\r\n        <>\r\n          <WrapHeader>\r\n            <TopHeader>\r\n              <View style={styles.headerItem}>\r\n                <TouchableOpacity\r\n                  onPress={() => onClose()}\r\n                >\r\n                  <IconAntDesign\r\n                    name='arrowleft'\r\n                    color={colors.white}\r\n                    style={{ backgroundColor: 'rgba(0,0,0,0.3)', borderRadius: 50 }}\r\n                    size={25}\r\n                  />\r\n                </TouchableOpacity>\r\n              </View>\r\n            </TopHeader>\r\n            <ProductHeader\r\n              source={{ uri: product?.images || productCart?.images }}\r\n            />\r\n          </WrapHeader>\r\n          <WrapContent>\r\n            <ProductTitle>\r\n              <OText size={20} style={{ flex: 1 }}>{product?.name || productCart.name}</OText>\r\n              <OText size={20} color={colors.primary}>{productCart.price ? parsePrice(productCart.price) : ''}</OText>\r\n            </ProductTitle>\r\n            <ProductDescription>\r\n              <OText>{product?.description || productCart?.description}</OText>\r\n              {(\r\n                (product?.sku && product?.sku !== '-1' && product?.sku !== '1') ||\r\n                (productCart?.sku && productCart?.sku !== '-1' && productCart?.sku !== '1')\r\n              ) &&(\r\n                <>\r\n                  <OText size={20}>{t('SKU', 'Sku')}</OText>\r\n                  <OText>{product?.sku || productCart?.sku}</OText>\r\n                </>\r\n              )}\r\n            </ProductDescription>\r\n            <ProductEditions>\r\n              {product?.ingredients.length > 0 && (\r\n                <View style={styles.optionContainer}>\r\n                  <SectionTitle>\r\n                    <OText size={16}>{t('INGREDIENTS', 'Ingredients')}</OText>\r\n                  </SectionTitle>\r\n                  <WrapperIngredients style={{ backgroundColor: isSoldOut || maxProductQuantity <= 0 ? 'hsl(0, 0%, 72%)' : colors.white }}>\r\n                    {product?.ingredients.map((ingredient: any) => (\r\n                      <ProductIngredient\r\n                        key={ingredient.id}\r\n                        ingredient={ingredient}\r\n                        state={productCart.ingredients[`id:${ingredient.id}`]}\r\n                        onChange={handleChangeIngredientState}\r\n                      />\r\n                    ))}\r\n                  </WrapperIngredients>\r\n                </View>\r\n              )}\r\n              {product?.extras.map((extra: any) => extra.options.map((option: any) => {\r\n                const currentState = productCart.options[`id:${option.id}`] || {}\r\n                return (\r\n                  <React.Fragment key={option.id}>\r\n                    {\r\n                      showOption(option) && (\r\n                        <View style={styles.optionContainer}>\r\n                          <ProductOption\r\n                            option={option}\r\n                            currentState={currentState}\r\n                            error={errors[`id:${option.id}`]}\r\n                          >\r\n                            <WrapperSubOption style={{ backgroundColor: isError(option.id) }}>\r\n                              {\r\n                                option.suboptions.map((suboption: any) => {\r\n                                  const currentState = productCart.options[`id:${option.id}`]?.suboptions[`id:${suboption.id}`] || {}\r\n                                  const balance = productCart.options[`id:${option.id}`]?.balance || 0\r\n                                  return (\r\n                                    <ProductOptionSubOption\r\n                                      key={suboption.id}\r\n                                      onChange={handleChangeSuboptionState}\r\n                                      balance={balance}\r\n                                      option={option}\r\n                                      suboption={suboption}\r\n                                      state={currentState}\r\n                                      disabled={isSoldOut || maxProductQuantity <= 0}\r\n                                    />\r\n                                  )\r\n                                })\r\n                              }\r\n                            </WrapperSubOption>\r\n                          </ProductOption>\r\n                        </View>\r\n                      )\r\n                    }\r\n                  </React.Fragment>\r\n                )\r\n              }))}\r\n              <ProductComment>\r\n                <SectionTitle>\r\n                  <OText size={16}>{t('SPECIAL_COMMENT', 'Special comment')}</OText>\r\n                </SectionTitle>\r\n                <OInput\r\n                  multiline\r\n                  placeholder={t('SPECIAL_COMMENT', 'Special comment')}\r\n                  value={productCart.comment}\r\n                  onChange={(val: string) => handleChangeCommentState({ target: { value: val } })}\r\n                  isDisabled={!(productCart && !isSoldOut && maxProductQuantity)}\r\n                  style={styles.comment}\r\n                />\r\n              </ProductComment>\r\n            </ProductEditions>\r\n          </WrapContent>\r\n          <ProductActions>\r\n            {\r\n              productCart && !isSoldOut && maxProductQuantity > 0 && (\r\n                <View style={styles.quantityControl}>\r\n                  <TouchableOpacity\r\n                    onPress={decrement}\r\n                    disabled={productCart.quantity === 1 || isSoldOut}\r\n                  >\r\n                    <MaterialCommunityIcon\r\n                      name='minus-circle-outline'\r\n                      size={32}\r\n                      color={productCart.quantity === 1 || isSoldOut ? colors.backgroundGray : colors.backgroundDark}\r\n                    />\r\n                  </TouchableOpacity>\r\n                  <OText size={20}>{productCart.quantity}</OText>\r\n                  <TouchableOpacity\r\n                    onPress={increment}\r\n                    disabled={maxProductQuantity <= 0 || productCart.quantity >= maxProductQuantity || isSoldOut}\r\n                  >\r\n                    <MaterialCommunityIcon\r\n                      name='plus-circle-outline'\r\n                      size={32}\r\n                      color={maxProductQuantity <= 0 || productCart.quantity >= maxProductQuantity || isSoldOut ? colors.backgroundGray : colors.backgroundDark}\r\n                    />\r\n                  </TouchableOpacity>\r\n                </View>\r\n              )\r\n            }\r\n            <View style={{ width: isSoldOut || maxProductQuantity <= 0 ? '100%' : '70%' }}>\r\n              {productCart && !isSoldOut && maxProductQuantity > 0 && auth && orderState.options?.address_id && (\r\n                <OButton\r\n                  onClick={() => handleSaveProduct()}\r\n                  imgRightSrc=''\r\n                  text={`${orderState.loading ? t('LOADING', 'Loading') : editMode ? t('UPDATE', 'Update') : t('ADD_TO_CART', 'Add to Cart')} ${productCart.total ? parsePrice(productCart?.total) : ''}`}\r\n                  textStyle={{ color: saveErrors ? colors.primary : colors.white }}\r\n                  style={{\r\n                    backgroundColor: saveErrors ? colors.white : colors.primary,\r\n                    opacity: saveErrors ? 0.3 : 1\r\n                  }}\r\n                />\r\n              )}\r\n              {auth && !orderState.options?.address_id && (\r\n                orderState.loading ? (\r\n                  <OButton\r\n                    isDisabled\r\n                    text={t('LOADING', 'Loading')}\r\n                    imgRightSrc=''\r\n                  />\r\n                ) : (\r\n                  <OButton\r\n                    onClick={navigation.navigate('AddressList')}\r\n                  />\r\n                )\r\n              )}\r\n              {(!auth || isSoldOut || maxProductQuantity <= 0) && (\r\n                <OButton\r\n                  isDisabled={isSoldOut || maxProductQuantity <= 0}\r\n                  onClick={() => handleRedirectLogin()}\r\n                  text={isSoldOut || maxProductQuantity <= 0 ? t('SOLD_OUT', 'Sold out') : t('LOGIN_SIGNUP', 'Login / Sign Up')}\r\n                  imgRightSrc=''\r\n                  textStyle={{ color: colors.primary }}\r\n                  style={{ borderColor: colors.primary, backgroundColor: colors.white }}\r\n                />\r\n              )}\r\n            </View>\r\n          </ProductActions>\r\n        </>\r\n      )}\r\n      {error && error.length > 0 && (\r\n        <NotFoundSource\r\n          content={error[0]?.message || error[0]}\r\n        />\r\n      )}\r\n    </ScrollView>\r\n  )\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  mainContainer: {\r\n    flex: 1,\r\n    height: windowHeight\r\n  },\r\n  headerItem: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    marginVertical: 15,\r\n    marginHorizontal: 20,\r\n    zIndex: 1\r\n  },\r\n  optionContainer: {\r\n    marginBottom: 20\r\n  },\r\n  comment: {\r\n    borderWidth: 1,\r\n    borderRadius: 0,\r\n    borderBottomLeftRadius: 10,\r\n    borderBottomRightRadius: 10,\r\n    borderColor: '#DBDCDB',\r\n    height: 100,\r\n    alignItems: 'flex-start',\r\n  },\r\n  quantityControl: {\r\n    flexDirection: 'row',\r\n    width: '30%',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    flex: 1,\r\n    marginRight: 10\r\n  }\r\n})\r\n\r\nexport const ProductForm = (props: any) => {\r\n  const productOptionsProps = {\r\n    ...props,\r\n    UIComponent: ProductOptionsUI\r\n  }\r\n\r\n  return <ProductOptions {...productOptionsProps} />\r\n}\r\n"]}