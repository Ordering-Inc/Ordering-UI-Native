{"version":3,"sources":["index.tsx"],"names":["React","useEffect","MaterialIcon","UDContainer","UDHeader","UDInfo","UserFormDetails","UserFormController","useLanguage","useSession","OText","colors","UserFormDetailsUI","Fade","Placeholder","PlaceholderLine","UserDetailsUI","props","isEdit","formState","cleanFormState","cartStatus","toggleIsEdit","validationFields","isUserDetailsEdit","phoneUpdate","togglePhoneUpdate","t","user","userData","result","error","toggleEditState","changes","cellphone","country_phone_code","loading","marginBottom","editColor","marginLeft","cancelColor","name","middle_name","lastname","second_lastname","email","textAlign","UserDetails","userDetailsProps","UIComponent"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { View } from 'react-native';\r\nimport MaterialIcon from 'react-native-vector-icons/MaterialCommunityIcons';\r\n\r\nimport { UDContainer, UDHeader, UDForm, UDInfo } from './styles';\r\n\r\nimport {\r\n  UserFormDetails as UserFormController,\r\n  useLanguage,\r\n  useSession\r\n} from 'ordering-components/native';\r\n\r\nimport { OText } from '../shared';\r\nimport { colors } from '../../theme';\r\n\r\nimport { UserFormDetailsUI } from '../UserFormDetails';\r\nimport { Fade, Placeholder, PlaceholderLine } from 'rn-placeholder';\r\n\r\nconst UserDetailsUI = (props: any) => {\r\n  const {\r\n    isEdit,\r\n    formState,\r\n    cleanFormState,\r\n    cartStatus,\r\n    toggleIsEdit,\r\n    validationFields,\r\n    isUserDetailsEdit,\r\n    phoneUpdate,\r\n    togglePhoneUpdate\r\n  } = props\r\n\r\n  const [, t] = useLanguage()\r\n  const [{ user }] = useSession()\r\n  const userData = props.userData || (!formState.result.error && formState.result?.result) || user\r\n\r\n\r\n  useEffect(() => {\r\n    if (isUserDetailsEdit) {\r\n      !isEdit && toggleIsEdit()\r\n    }\r\n  }, [isUserDetailsEdit])\r\n\r\n  const toggleEditState = () => {\r\n    toggleIsEdit()\r\n    cleanFormState({ changes: {} })\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (user?.cellphone && !user?.country_phone_code) {\r\n      togglePhoneUpdate(true)\r\n    } else {\r\n      togglePhoneUpdate(false)\r\n    }\r\n  }, [user?.country_phone_code])\r\n\r\n  return (\r\n    <>\r\n      {(validationFields.loading || formState.loading) && (\r\n        <Placeholder Animation={Fade}>\r\n          <PlaceholderLine height={20} width={70} />\r\n          <PlaceholderLine height={15} width={60} />\r\n          <PlaceholderLine height={15} width={60} />\r\n          <PlaceholderLine height={15} width={80} style={{ marginBottom: 20 }} />\r\n        </Placeholder>\r\n      )}\r\n\r\n      {!(validationFields.loading || formState.loading) && (\r\n        <UDContainer>\r\n          <UDHeader>\r\n            <OText size={20}>\r\n              {t('CUSTOMER_DETAILS', 'Customer Details')}\r\n            </OText>\r\n            {cartStatus !== 2 && (\r\n              !isEdit ? (\r\n                <MaterialIcon\r\n                  name='pencil-outline'\r\n                  size={28}\r\n                  color={colors.editColor}\r\n                  style={{ marginBottom: 10, marginLeft: 5 }}\r\n                  onPress={() => toggleIsEdit()}\r\n                />\r\n              ) : (\r\n                <MaterialIcon\r\n                  name='cancel'\r\n                  color={colors.cancelColor}\r\n                  size={24}\r\n                  style={{ marginBottom: 5, marginLeft: 5 }}\r\n                  onPress={() => toggleEditState()}\r\n                />\r\n              )\r\n            )}\r\n          </UDHeader>\r\n\r\n          {!isEdit ? (\r\n            <UDInfo>\r\n              <OText size={16}>\r\n                <OText size={18} weight='bold'>\r\n                  {t('NAME', 'Name')}:{' '}\r\n                </OText>\r\n                {userData?.name} {userData?.middle_name} {userData?.lastname} {userData?.second_lastname}\r\n              </OText>\r\n              <OText size={16}>\r\n                <OText size={18} weight='bold'>\r\n                  {t('EMAIL', 'Email')}:{' '}\r\n                </OText>\r\n                {userData?.email}\r\n              </OText>\r\n              {(userData?.cellphone || user?.cellphone) && (\r\n                <>\r\n                  <OText size={16}>\r\n                    <OText size={18} weight='bold'>\r\n                      {t('CELLPHONE', 'Cellphone')}:{' '}\r\n                    </OText>\r\n                    {(userData?.country_phone_code) && `+${(userData?.country_phone_code)} `}{(userData?.cellphone)}\r\n                  </OText>\r\n                  {phoneUpdate && (\r\n                    <OText color={colors.error} style={{ textAlign: 'center' }}>{t('NECESSARY_UPDATE_COUNTRY_PHONE_CODE', 'It is necessary to update your phone number')}</OText>\r\n                  )}\r\n                </>\r\n              )}\r\n            </UDInfo>\r\n          ) : (\r\n            <UserFormDetailsUI {...props} phoneUpdate={phoneUpdate} togglePhoneUpdate={togglePhoneUpdate} />\r\n          )}\r\n        </UDContainer>\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nexport const UserDetails = (props: any) => {\r\n  const userDetailsProps = {\r\n    ...props,\r\n    UIComponent: UserDetailsUI\r\n  }\r\n\r\n  return <UserFormController {...userDetailsProps} />\r\n}\r\n"]}