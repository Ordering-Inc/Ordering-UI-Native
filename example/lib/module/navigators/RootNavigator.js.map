{"version":3,"sources":["RootNavigator.tsx"],"names":["React","useState","useEffect","createStackNavigator","useOrder","useSession","Login","Signup","Forgot","Home","AddressForm","MomentOption","Splash","BusinessList","BusinessProductsList","HomeNavigator","Stack","RootNavigator","auth","user","loading","login","orderStatus","loaded","setLoaded","headerShown"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { createStackNavigator } from '@react-navigation/stack';\r\nimport { useOrder, useSession } from 'ordering-components/native';\r\n\r\nimport Login from '../pages/Login';\r\nimport Signup from '../pages/Signup';\r\nimport Forgot from '../pages/ForgotPassword';\r\nimport Home from '../pages/Home';\r\nimport AddressForm from '../pages/AddressForm';\r\nimport MomentOption from '../pages/MomentOption';\r\nimport Splash from '../pages/Splash';\r\nimport BusinessList from '../pages/BusinessesListing';\r\nimport BusinessProductsList from '../pages/BusinessProductsList';\r\nimport HomeNavigator from './HomeNavigator';\r\n\r\nconst Stack = createStackNavigator();\r\n\r\nconst RootNavigator = () => {\r\n  const [{ auth, user, loading }, { login }] = useSession();\r\n  const [orderStatus] = useOrder();\r\n  const [loaded, setLoaded] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (!loaded && !orderStatus.loading) {\r\n      setLoaded(true)\r\n    }\r\n  }, [orderStatus])\r\n\r\n  useEffect(() => {\r\n    if (!loading) {\r\n      setLoaded(!auth)\r\n    }\r\n  }, [loading])\r\n\r\n  return (\r\n    <Stack.Navigator>\r\n      {\r\n        !loaded && (\r\n          <Stack.Screen\r\n            name=\"Splash\"\r\n            component={Splash}\r\n            options={{ headerShown: false }}\r\n          />\r\n        )\r\n      }\r\n      {\r\n        loaded && (\r\n          <>\r\n            {!auth ? (\r\n              <>\r\n                <Stack.Screen\r\n                  name=\"Home\"\r\n                  component={Home}\r\n                  options={{ headerShown: false }}\r\n                />\r\n                <Stack.Screen\r\n                  name=\"Login\"\r\n                  component={Login}\r\n                  options={{ headerShown: false }}\r\n                />\r\n                <Stack.Screen\r\n                  name=\"Signup\"\r\n                  component={Signup}\r\n                  options={{ headerShown: false }}\r\n                />\r\n                <Stack.Screen\r\n                  name=\"Forgot\"\r\n                  component={Forgot}\r\n                  options={{ headerShown: false }}\r\n                />\r\n                <Stack.Screen\r\n                  name=\"AddressForm\"\r\n                  component={AddressForm}\r\n                  options={{ headerShown: false }}\r\n                />\r\n                <Stack.Screen\r\n                  name='BusinessList'\r\n                  component={BusinessList}\r\n                  options={{ headerShown: false }}\r\n                />\r\n                <Stack.Screen\r\n                  name='Business'\r\n                  component={BusinessProductsList}\r\n                  options={{ headerShown: false }}\r\n                />\r\n                <Stack.Screen\r\n                  name='MomentOption'\r\n                  component={MomentOption}\r\n                  options={{ headerShown: false }}\r\n                />\r\n              </>\r\n            ) : (\r\n              <Stack.Screen\r\n                name='MyAccount'\r\n                component={HomeNavigator}\r\n                options={{ headerShown: false }}\r\n              />\r\n            )}\r\n          </>\r\n        )\r\n      }\r\n    </Stack.Navigator>\r\n  );\r\n};\r\n\r\nexport default RootNavigator;\r\n"]}