{"version":3,"sources":["OToast.tsx"],"names":["fadeDuration","bottomPosition","Toast","toastConfig","hideToast","opacity","React","useRef","Animated","Value","current","fadeIn","useCallback","timing","toValue","duration","useNativeDriver","start","fadeOut","useEffect","timer","setTimeout","clearTimeout","type","message","backgroundColor","ToastType","Info","Error","Success","styles","container","bottom","toast","StyleSheet","create","alignSelf","position","maxWidth","borderRadius","padding","fontSize","textAlign","color"],"mappings":"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","sourcesContent":["import * as React from \"react\";\r\nimport { Animated, StyleSheet, Text, View } from \"react-native\";\r\nimport { useSafeAreaInsets } from \"react-native-safe-area-context\";\r\nimport { ToastType, useToast } from \"../../providers/ToastProvider\";\r\n\r\nconst fadeDuration = 300;\r\nconst bottomPosition = 20;\r\n\r\nexport const Toast: React.FC = () => {\r\n    // const insets = useSafeAreaInsets();\r\n    const { toastConfig, hideToast } = useToast();\r\n    const opacity = React.useRef(new Animated.Value(0)).current;\r\n\r\n    const fadeIn = React.useCallback(() => {\r\n        Animated.timing(opacity, {\r\n            toValue: 1,\r\n            duration: fadeDuration,\r\n            useNativeDriver: true,\r\n        }).start();\r\n    }, [opacity]);\r\n\r\n    const fadeOut = React.useCallback(() => {\r\n        Animated.timing(opacity, {\r\n            toValue: 0,\r\n            duration: fadeDuration,\r\n            useNativeDriver: true,\r\n        }).start(() => {\r\n            hideToast();\r\n        });\r\n    }, [opacity, hideToast]);\r\n\r\n    React.useEffect(() => {\r\n        if (!toastConfig) {\r\n            return;\r\n        }\r\n\r\n        fadeIn();\r\n        const timer = setTimeout(fadeOut, toastConfig.duration);\r\n\r\n        return () => clearTimeout(timer);\r\n    }, [toastConfig, fadeIn, fadeOut]);\r\n\r\n    if (!toastConfig) {\r\n        return null;\r\n    }\r\n\r\n    const { type, message } = toastConfig;\r\n\r\n    let backgroundColor;\r\n    switch (type) {\r\n        case ToastType.Info:\r\n            backgroundColor = '#6ba4ff';\r\n            break;\r\n        case ToastType.Error:\r\n            backgroundColor = '#ff3d3d';\r\n            break;\r\n        case ToastType.Success:\r\n            backgroundColor = '#73bd24';\r\n            break;\r\n    }\r\n\r\n    return (\r\n        <Animated.View\r\n            style={[\r\n                styles.container,\r\n                { bottom: bottomPosition, opacity },\r\n            ]}\r\n        >\r\n            <View style={[styles.toast, { backgroundColor }]}>\r\n                <Text style={styles.message}>{message}</Text>\r\n            </View>\r\n        </Animated.View>\r\n    );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        alignSelf: \"center\",\r\n        position: \"absolute\",\r\n        maxWidth: 480\r\n    },\r\n    toast: {\r\n        borderRadius: 16,\r\n        padding: 16,\r\n    },\r\n    message: {\r\n        fontSize: 14,\r\n        textAlign: \"center\",\r\n        color: '#fff',\r\n    },\r\n});\r\n"]}