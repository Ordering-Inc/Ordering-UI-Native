{"version":3,"sources":["OrderMap.tsx"],"names":["React","Platform","StyleSheet","MapView","PROVIDER_GOOGLE","Marker","styled","Wrapper","View","OrderMap","props","mapRef","useRef","region","setRegion","useState","useEffect","current","markers","length","setTimeout","fitToCoordinates","map","item","latlng","edgePadding","top","left","right","bottom","animated","style","OS","bind","index","image","create","absoluteFillObject"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,QAAT,EAAmBC,UAAnB,QAAqC,cAArC;AACA,OAAOC,OAAP,IAA0BC,eAA1B,EAA2CC,MAA3C,QAAiE,mBAAjE;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AAQA,MAAMC,OAAO,GAAGD,MAAM,CAACE,IAAK;AAC5B;AACA,CAFA;;AAIA,MAAMC,QAAQ,GAAIC,KAAD,IAAyB;AACtC,QAAMC,MAAM,GAAGX,KAAK,CAACY,MAAN,CAAsB,IAAtB,CAAf;AACA,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBd,KAAK,CAACe,QAAN,CAAeL,KAAK,CAACG,MAArB,CAA5B;AAEAb,EAAAA,KAAK,CAACgB,SAAN,CAAgB,MAAM;AAClB,QAAIL,MAAM,CAACM,OAAP,IAAkBP,KAAK,CAACQ,OAAN,CAAcC,MAAd,GAAuB,CAA7C,EAAgD;AAC5CC,MAAAA,UAAU,CAAC,MAAI;AAAA;;AACX,2BAAAT,MAAM,CAACM,OAAP,oEAAgBI,gBAAhB,CACIX,KAAK,CAACQ,OAAN,CAAcI,GAAd,CAAkBC,IAAI,IAAIA,IAAI,CAACC,MAA/B,CADJ,EAEI;AACIC,UAAAA,WAAW,EAAE;AACTC,YAAAA,GAAG,EAAE,GADI;AAETC,YAAAA,IAAI,EAAE,EAFG;AAGTC,YAAAA,KAAK,EAAE,EAHE;AAITC,YAAAA,MAAM,EAAE;AAJC,WADjB;AAOIC,UAAAA,QAAQ,EAAE;AAPd,SAFJ;AAWH,OAZS,EAYR,IAZQ,CAAV;AAaH;AACJ,GAhBD,EAgBG,EAhBH;AAkBA,sBACI,oBAAC,OAAD,qBACI,oBAAC,OAAD;AACI,IAAA,KAAK,EAAGC,KAAK,CAACT,GADlB;AAEI,IAAA,OAAO,EAAGrB,QAAQ,CAAC+B,EAAT,IAAe,SAAf,GAA2B,MAA3B,GAAoC,UAFlD;AAGI,IAAA,QAAQ,EAAG5B,eAHf;AAII,IAAA,sBAAsB,EAAEU,SAAS,CAACmB,IAAV,CAAe,IAAf,EAAqBvB,KAAK,CAACG,MAA3B,CAJ5B;AAKI,IAAA,GAAG,EAAGF;AALV,KAQQD,KAAK,CAACQ,OAAN,CAAcI,GAAd,CAAkB,CAACC,IAAD,EAAOW,KAAP,kBACd,oBAAC,MAAD;AACI,IAAA,GAAG,EAAEA,KADT;AAEI,IAAA,iBAAiB,EAAG,KAFxB;AAGI,IAAA,UAAU,EAAGX,IAAI,CAACC,MAHtB;AAII,IAAA,KAAK,EAAGD,IAAI,CAACY;AAJjB,IADJ,CARR,CADJ,CADJ;AAsBH,CA5CD;;AA8CA,MAAMJ,KAAK,GAAG7B,UAAU,CAACkC,MAAX,CAAkB;AAC5Bd,EAAAA,GAAG,EAAE,EACD,GAAGpB,UAAU,CAACmC;AADb;AADuB,CAAlB,CAAd;AAMA,eAAe5B,QAAf","sourcesContent":["import * as React from 'react'\r\nimport { Platform, StyleSheet } from 'react-native'\r\nimport MapView, { Region, PROVIDER_GOOGLE, Marker, LatLng } from 'react-native-maps'\r\nimport styled from 'styled-components/native'\r\n\r\nexport interface MapInterface {\r\n    region?: Region,\r\n    onChangeRegion?: any,\r\n    markers: Array<{latlng: LatLng, image: any}>\r\n}\r\n\r\nconst Wrapper = styled.View`\r\n    height: 100%;\r\n`\r\n\r\nconst OrderMap = (props: MapInterface) => {\r\n    const mapRef = React.useRef<MapView>(null);\r\n    const [region, setRegion] = React.useState(props.region);\r\n    \r\n    React.useEffect(() => {\r\n        if (mapRef.current && props.markers.length > 0) {\r\n            setTimeout(()=>{\r\n                mapRef.current?.fitToCoordinates(\r\n                    props.markers.map(item => item.latlng), \r\n                    {\r\n                        edgePadding: {\r\n                            top: 100,\r\n                            left: 50,\r\n                            right: 50,\r\n                            bottom: 300\r\n                        },\r\n                        animated: true\r\n                    });\r\n            },1000)\r\n        }\r\n    }, [])\r\n\r\n    return (\r\n        <Wrapper>\r\n            <MapView \r\n                style={ style.map }\r\n                mapType={ Platform.OS == 'android' ? \"none\" : \"standard\" }\r\n                provider={ PROVIDER_GOOGLE }\r\n                onRegionChangeComplete={setRegion.bind(this, props.region)}\r\n                ref={ mapRef }\r\n            >\r\n                {\r\n                    props.markers.map((item, index) => (\r\n                        <Marker \r\n                            key={index}\r\n                            tracksViewChanges={ false }\r\n                            coordinate={ item.latlng }\r\n                            image={ item.image }\r\n                        />\r\n                    ))\r\n                }\r\n            </MapView>\r\n        </Wrapper>\r\n    )\r\n}\r\n\r\nconst style = StyleSheet.create({\r\n    map: {\r\n        ...StyleSheet.absoluteFillObject\r\n    }\r\n})\r\n\r\nexport default OrderMap;"]}