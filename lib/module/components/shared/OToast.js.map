{"version":3,"sources":["OToast.tsx"],"names":["React","Animated","StyleSheet","Text","View","ToastType","useToast","fadeDuration","bottomPosition","Toast","toastConfig","hideToast","opacity","useRef","Value","current","fadeIn","useCallback","timing","toValue","duration","useNativeDriver","start","fadeOut","useEffect","timer","setTimeout","clearTimeout","type","message","backgroundColor","Info","Error","Success","styles","container","bottom","toast","create","alignSelf","position","maxWidth","borderRadius","padding","fontSize","textAlign","color"],"mappings":"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","sourcesContent":["import * as React from \"react\";\r\nimport { Animated, StyleSheet, Text, View } from \"react-native\";\r\nimport { useSafeAreaInsets } from \"react-native-safe-area-context\";\r\nimport { ToastType, useToast } from \"../../providers/ToastProvider\";\r\n\r\nconst fadeDuration = 300;\r\nconst bottomPosition = 20;\r\n\r\nexport const Toast: React.FC = () => {\r\n    // const insets = useSafeAreaInsets();\r\n    const { toastConfig, hideToast } = useToast();\r\n    const opacity = React.useRef(new Animated.Value(0)).current;\r\n\r\n    const fadeIn = React.useCallback(() => {\r\n        Animated.timing(opacity, {\r\n            toValue: 1,\r\n            duration: fadeDuration,\r\n            useNativeDriver: true,\r\n        }).start();\r\n    }, [opacity]);\r\n\r\n    const fadeOut = React.useCallback(() => {\r\n        Animated.timing(opacity, {\r\n            toValue: 0,\r\n            duration: fadeDuration,\r\n            useNativeDriver: true,\r\n        }).start(() => {\r\n            hideToast();\r\n        });\r\n    }, [opacity, hideToast]);\r\n\r\n    React.useEffect(() => {\r\n        if (!toastConfig) {\r\n            return;\r\n        }\r\n\r\n        fadeIn();\r\n        const timer = setTimeout(fadeOut, toastConfig.duration);\r\n\r\n        return () => clearTimeout(timer);\r\n    }, [toastConfig, fadeIn, fadeOut]);\r\n\r\n    if (!toastConfig) {\r\n        return null;\r\n    }\r\n\r\n    const { type, message } = toastConfig;\r\n\r\n    let backgroundColor;\r\n    switch (type) {\r\n        case ToastType.Info:\r\n            backgroundColor = '#6ba4ff';\r\n            break;\r\n        case ToastType.Error:\r\n            backgroundColor = '#ff3d3d';\r\n            break;\r\n        case ToastType.Success:\r\n            backgroundColor = '#73bd24';\r\n            break;\r\n    }\r\n\r\n    return (\r\n        <Animated.View\r\n            style={[\r\n                styles.container,\r\n                { bottom: bottomPosition, opacity },\r\n            ]}\r\n        >\r\n            <View style={[styles.toast, { backgroundColor }]}>\r\n                <Text style={styles.message}>{message}</Text>\r\n            </View>\r\n        </Animated.View>\r\n    );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        alignSelf: \"center\",\r\n        position: \"absolute\",\r\n        maxWidth: 480\r\n    },\r\n    toast: {\r\n        borderRadius: 16,\r\n        padding: 16,\r\n    },\r\n    message: {\r\n        fontSize: 14,\r\n        textAlign: \"center\",\r\n        color: '#fff',\r\n    },\r\n});\r\n"]}